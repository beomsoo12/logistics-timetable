"""
버전 정보 관리
"""

# 현재 버전 (MAJOR.MINOR.PATCH)
VERSION = "1.3.8"

# 버전 히스토리
VERSION_HISTORY = {
    "1.3.8": {
        "date": "2026-01-19",
        "changes": [
            "업데이트 테스트"
        ]
    },
    "1.3.7": {
        "date": "2026-01-19",
        "changes": [
            "업데이트 배치 파일 인코딩 문제 수정",
            "다른 컴퓨터에서 업데이트 안되는 문제 해결"
        ]
    },
    "1.3.6": {
        "date": "2026-01-19",
        "changes": [
            "특수 시간 변경 시 변동 내역 자동 동기화",
            "추가 시간 0이면 변동 내역에서 자동 삭제",
            "사유 입력 다이얼로그 복원"
        ]
    },
    "1.3.5": {
        "date": "2026-01-19",
        "changes": [
            "업데이트 시스템 완전 재설계 (안정성 향상)",
            "배치 파일 기반 간단한 업데이트 방식 적용",
            "별도 업데이터 프로그램 제거 (DoUpdate.exe 불필요)",
            "임시 폴더 사용으로 권한 문제 해결"
        ]
    },
    "1.3.4": {
        "date": "2026-01-19",
        "changes": [
            "변동 내역 입력자 컬럼 분리 (사유와 별도 표시)",
            "법인별 추가 시간 합계와 변동 내역 영역 50:50 분할",
            "메인 그리드 행 높이 60% 축소 (컴팩트 레이아웃)",
            "엑셀 내보내기 입력자 컬럼 추가"
        ]
    },
    "1.3.3": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 프로세스 개선 - 전용 업데이터 프로그램 사용",
            "업데이트 시 콘솔 창 대신 별도 프로그램으로 처리",
            "안정적인 파일 교체 및 프로그램 재시작"
        ]
    },
    "1.3.2": {
        "date": "2026-01-18",
        "changes": [
            "로그인 버튼 가로 크기 확대 (창 너비에 맞춤)",
            "비밀번호 입력 후 엔터키로 로그인 가능"
        ]
    },
    "1.3.1": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 구조 개선",
            "다운로드 폴더 분리 (C:\\gyunwoo\\update)",
            "설치 폴더 정리 후 압축 해제 방식 적용"
        ]
    },
    "1.3.0": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 후 창 오류 수정"
        ]
    },
    "1.2.9": {
        "date": "2026-01-18",
        "changes": [
            "로그인 창 처음 사용시 안내 문구 제거"
        ]
    },
    "1.2.8": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 루틴 안정화 (일반적인 방식으로 변경)",
            "설치 폴더 변경 (C:\\gyunwoo\\logistics)",
            "프로그레스바로 다운로드 진행률 표시"
        ]
    },
    "1.2.7": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 진행 상황 통합 다이얼로그 적용",
            "버전 확인 → 다운로드 → 설치 과정 시각화",
            "프로그레스 바로 다운로드 진행률 표시"
        ]
    },
    "1.2.6": {
        "date": "2026-01-18",
        "changes": [
            "로그인 ID 입력 필드 한글 체크 제거",
            "로그인 창 높이 증가 (버튼 잘림 해결)"
        ]
    },
    "1.2.5": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 다이얼로그 사라지는 문제 수정",
            "다이얼로그 독립 창으로 표시"
        ]
    },
    "1.2.4": {
        "date": "2026-01-18",
        "changes": [
            "로그인 ID 입력 필드 한글만 입력 허용",
            "영문/숫자/특수문자 입력 차단"
        ]
    },
    "1.2.3": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 다이얼로그 표시 문제 수정",
            "다이얼로그 화면 중앙 배치 및 최상단 표시"
        ]
    },
    "1.2.2": {
        "date": "2026-01-18",
        "changes": [
            "로그인 버튼 크기를 폼에 맞게 조정"
        ]
    },
    "1.2.1": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 확인 로그 기능 추가 (update_check_log.txt)",
            "업데이트 문제 디버깅 지원"
        ]
    },
    "1.2.0": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 버전 번호 체계 정리 (1.2.0)",
            "모든 버튼 둥근 모서리 디자인 적용",
            "버튼 크기 30% 확대",
            "종료 버튼 추가"
        ]
    },
    "1.1.9": {
        "date": "2026-01-18",
        "changes": [
            "모든 버튼 둥근 모서리 디자인 적용",
            "버튼 크기 30% 확대",
            "종료 버튼 추가",
            "로그아웃/종료 버튼 폰트 조정"
        ]
    },
    "1.1.8": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 시 무한 대기 문제 수정",
            "다른 폴더에서 실행 시에도 업데이트 가능",
            "EXE 삭제 실패 시 10회 시도 후 강제 진행"
        ]
    },
    "1.1.7": {
        "date": "2026-01-18",
        "changes": [
            "날짜 선택 영역 폰트 크기 2배 확대",
            "작업 날짜 레이블 및 DateEntry 폰트 확대",
            "이전/오늘/다음 버튼 폰트 확대",
            "기본 업무 관리, 기간별 통계 버튼 폰트 확대"
        ]
    },
    "1.1.6": {
        "date": "2026-01-18",
        "changes": [
            "고정 설치 폴더 적용 (C:\\gyunwoo\\LogisticsTimetable)",
            "업데이트 프로세스 안정화 (tar 명령 우선 사용)",
            "업데이트 로그 파일 생성 (update_log.txt)",
            "배치 스크립트 인코딩 수정 (cp949)",
            "업데이트 진행 창 표시로 오류 확인 가능"
        ]
    },
    "1.1.5": {
        "date": "2026-01-18",
        "changes": [
            "기본 업무 관리 - 저장 버튼을 수정으로 변경",
            "삽입, 수정, 삭제 시 확인 창 추가"
        ]
    },
    "1.1.4": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 시 임시 폴더 접근 문제 수정",
            "ZIP 파일을 현재 폴더로 복사 후 압축 해제",
            "PowerShell ExecutionPolicy Bypass 추가"
        ]
    },
    "1.1.3": {
        "date": "2026-01-18",
        "changes": [
            "특수 시간 클릭 시 기본 업무에서 설정한 업체 색상으로 표시",
            "업체+법인명별 색상 저장 및 적용"
        ]
    },
    "1.1.2": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 시 기존 폴더 삭제 후 ZIP 직접 압축 해제 방식으로 변경",
            "PowerShell Expand-Archive 사용"
        ]
    },
    "1.1.1": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 시 폴더 전체 교체 방식으로 변경",
            "xcopy로 소스 폴더 전체 복사"
        ]
    },
    "1.1.0": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 후 현재 폴더에서 계속 실행되도록 개선",
            "배치 스크립트 작업 디렉토리 명시적 설정"
        ]
    },
    "1.0.10": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 후 실행 안되는 문제 수정",
            "배치 스크립트 경로 및 임시 폴더 정리 개선"
        ]
    },
    "1.0.9": {
        "date": "2026-01-18",
        "changes": [
            "기본 업무 관리 창이 뒤로 숨는 문제 수정"
        ]
    },
    "1.0.8": {
        "date": "2026-01-18",
        "changes": [
            "기본 업무 관리에서 업체별 색상 선택 기능 추가",
            "메인 폼에서 DB에 저장된 색상으로 표시"
        ]
    },
    "1.0.7": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 시 _internal 폴더 복사 추가 (DLL 오류 완전 해결)"
        ]
    },
    "1.0.6": {
        "date": "2026-01-18",
        "changes": [
            "Python DLL 오류 해결 (onedir 모드로 변경)"
        ]
    },
    "1.0.5": {
        "date": "2026-01-18",
        "changes": [
            "로그인 전 업데이트 확인으로 변경",
            "Python DLL 로드 오류 수정"
        ]
    },
    "1.0.4": {
        "date": "2026-01-18",
        "changes": [
            "기간별 통계 일수 계산 수정",
            "기간별 통계 재조회 버그 수정"
        ]
    },
    "1.0.3": {
        "date": "2026-01-18",
        "changes": [
            "프로그램 아이콘 추가",
            "EXE 자동 업데이트 기능 개선"
        ]
    },
    "1.0.2": {
        "date": "2026-01-18",
        "changes": [
            "변경 로그 조회 화면 개선",
            "프로그램 시작 시 창이 뒤로 숨는 문제 수정"
        ]
    },
    "1.0.1": {
        "date": "2026-01-18",
        "changes": [
            "점심시간(12:30~13:00) 빗금 표시 추가",
            "MAC 주소 기반 자동 로그인 기능",
            "DB 접속 정보 암호화 (db_config.enc)",
            "로그인 UI 개선 (밝은 테마, 로고 추가)",
            "IME 자동 전환 (ID: 한글, PW: 영문)",
            "변경 로그 날짜 필터 수정"
        ]
    },
    "1.0.0": {
        "date": "2026-01-16",
        "changes": [
            "초기 릴리스",
            "기본 업무 관리 기능",
            "특수 시간 관리 (드래그로 셀 토글)",
            "법인별 추가 시간 합계 표시",
            "기간별 통계 기능",
            "실시간 자동 재계산"
        ]
    }
}

def get_version():
    """현재 버전 반환"""
    return VERSION

def get_version_info(version=None):
    """특정 버전의 정보 반환"""
    if version is None:
        version = VERSION
    return VERSION_HISTORY.get(version, {})

def get_latest_changes():
    """최신 버전의 변경사항 반환"""
    return VERSION_HISTORY.get(VERSION, {}).get("changes", [])
