"""
버전 정보 관리
"""

# 현재 버전 (MAJOR.MINOR.PATCH)
VERSION = "1.1.2"

# 버전 히스토리
VERSION_HISTORY = {
    "1.1.2": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 시 기존 폴더 삭제 후 ZIP 직접 압축 해제 방식으로 변경",
            "PowerShell Expand-Archive 사용"
        ]
    },
    "1.1.1": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 시 폴더 전체 교체 방식으로 변경",
            "xcopy로 소스 폴더 전체 복사"
        ]
    },
    "1.1.0": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 후 현재 폴더에서 계속 실행되도록 개선",
            "배치 스크립트 작업 디렉토리 명시적 설정"
        ]
    },
    "1.0.10": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 후 실행 안되는 문제 수정",
            "배치 스크립트 경로 및 임시 폴더 정리 개선"
        ]
    },
    "1.0.9": {
        "date": "2026-01-18",
        "changes": [
            "기본 업무 관리 창이 뒤로 숨는 문제 수정"
        ]
    },
    "1.0.8": {
        "date": "2026-01-18",
        "changes": [
            "기본 업무 관리에서 업체별 색상 선택 기능 추가",
            "메인 폼에서 DB에 저장된 색상으로 표시"
        ]
    },
    "1.0.7": {
        "date": "2026-01-18",
        "changes": [
            "업데이트 시 _internal 폴더 복사 추가 (DLL 오류 완전 해결)"
        ]
    },
    "1.0.6": {
        "date": "2026-01-18",
        "changes": [
            "Python DLL 오류 해결 (onedir 모드로 변경)"
        ]
    },
    "1.0.5": {
        "date": "2026-01-18",
        "changes": [
            "로그인 전 업데이트 확인으로 변경",
            "Python DLL 로드 오류 수정"
        ]
    },
    "1.0.4": {
        "date": "2026-01-18",
        "changes": [
            "기간별 통계 일수 계산 수정",
            "기간별 통계 재조회 버그 수정"
        ]
    },
    "1.0.3": {
        "date": "2026-01-18",
        "changes": [
            "프로그램 아이콘 추가",
            "EXE 자동 업데이트 기능 개선"
        ]
    },
    "1.0.2": {
        "date": "2026-01-18",
        "changes": [
            "변경 로그 조회 화면 개선",
            "프로그램 시작 시 창이 뒤로 숨는 문제 수정"
        ]
    },
    "1.0.1": {
        "date": "2026-01-18",
        "changes": [
            "점심시간(12:30~13:00) 빗금 표시 추가",
            "MAC 주소 기반 자동 로그인 기능",
            "DB 접속 정보 암호화 (db_config.enc)",
            "로그인 UI 개선 (밝은 테마, 로고 추가)",
            "IME 자동 전환 (ID: 한글, PW: 영문)",
            "변경 로그 날짜 필터 수정"
        ]
    },
    "1.0.0": {
        "date": "2026-01-16",
        "changes": [
            "초기 릴리스",
            "기본 업무 관리 기능",
            "특수 시간 관리 (드래그로 셀 토글)",
            "법인별 추가 시간 합계 표시",
            "기간별 통계 기능",
            "실시간 자동 재계산"
        ]
    }
}

def get_version():
    """현재 버전 반환"""
    return VERSION

def get_version_info(version=None):
    """특정 버전의 정보 반환"""
    if version is None:
        version = VERSION
    return VERSION_HISTORY.get(version, {})

def get_latest_changes():
    """최신 버전의 변경사항 반환"""
    return VERSION_HISTORY.get(VERSION, {}).get("changes", [])
